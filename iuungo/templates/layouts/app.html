{# templates/layouts/app.html #}
{% extends "base.html" %}

{% load static %}

{% block body %}
  <div class="drawer lg:drawer-open min-h-screen">
    <input id="my-drawer-4" type="checkbox" class="drawer-toggle" />
    <div class="drawer-content min-h-screen flex flex-col">
      {# Navbar #}
      <nav class="navbar w-full shadow">
        <label for="my-drawer-4"
               aria-label="open sidebar"
               class="btn btn-square btn-ghost">
          <svg xmlns="http://www.w3.org/2000/svg"
               viewBox="0 0 24 24"
               stroke-linejoin="round"
               stroke-linecap="round"
               stroke-width="2"
               fill="none"
               stroke="currentColor"
               class="my-1.5 inline-block size-6">
            <path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" />
            <path d="M9 4v16" />
            <path d="M14 10l2 2l-2 2" />
          </svg>
        </label>
        <div class="px-4 text-lg font-semibold">
          {% block nav_title %}
            Dashboard
          {% endblock nav_title %}
        </div>
      </nav>
      {# Page content #}
      <main class="flex-1 w-full">
        <div class="p-4">
          {% include "includes/messages.html" %}
          {% block content %}
          {% endblock content %}
        </div>
      </main>
    </div>
    {# Sidebar #}
    <div class="drawer-side is-drawer-close:overflow-visible">
      <label for="my-drawer-4" aria-label="close sidebar" class="drawer-overlay"></label>
      <div class="flex min-h-full flex-col items-start bg-base-200 is-drawer-close:w-14 is-drawer-open:w-64">
        <!-- Logo -->
        <div class="w-full flex items-center justify-center py-4">
          <a href="{% url 'home' %}">
            <img src="{% static 'images/logo.png' %}" alt="Iuungo" class="h-8" />
          </a>
        </div>
        <ul class="menu w-full grow text-lg">
          <li>
            <a href="{% url 'users:detail' request.user.pk %}"
               class="is-drawer-close:tooltip is-drawer-close:tooltip-right"
               data-tip="Homepage">
              <svg xmlns="http://www.w3.org/2000/svg"
                   viewBox="0 0 24 24"
                   stroke-linejoin="round"
                   stroke-linecap="round"
                   stroke-width="1.5"
                   fill="none"
                   stroke="currentColor"
                   class="my-1.5 inline-block size-6">
                <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8" />
                <path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1 -2 2H5a2 2 0 0 1 -2 -2z" />
              </svg>
              <span class="is-drawer-close:hidden">Homepage</span>
            </a>
          </li>
          <li>
            <a href="#"
               class="is-drawer-close:tooltip is-drawer-close:tooltip-right"
               data-tip="Feed">
              <svg xmlns="http://www.w3.org/2000/svg"
                   viewBox="0 0 24 24"
                   fill="none"
                   stroke="currentColor"
                   stroke-width="2"
                   stroke-linecap="round"
                   stroke-linejoin="round"
                   class="my-1.5 inline-block size-6">
                <path d="M16 6h3a1 1 0 0 1 1 1v11a2 2 0 0 1 -4 0v-13a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1v12a3 3 0 0 0 3 3h11" />
                <path d="M8 8h4" />
                <path d="M8 12h4" />
                <path d="M8 16h4" />
              </svg>
              <span class="is-drawer-close:hidden">Feed</span>
            </a>
          </li>
          <li>
            <a href="#"
               class="is-drawer-close:tooltip is-drawer-close:tooltip-right"
               data-tip="Letters">
              <div class="indicator">
                {% if unread_count|default:1 > 0 %}
                  <span class="indicator-item badge badge-secondary text-xs">{{ unread_count|default:1 }}</span>
                {% endif %}
                <svg xmlns="http://www.w3.org/2000/svg"
                     viewBox="0 0 24 24"
                     fill="none"
                     stroke="currentColor"
                     stroke-width="2"
                     stroke-linecap="round"
                     stroke-linejoin="round"
                     class="my-1.5 inline-block size-6">
                  <path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10" />
                  <path d="M3 7l9 6l9 -6" />
                </svg>
              </div>
              <span class="is-drawer-close:hidden">Letters</span>
            </a>
          </li>
          <li>
            <a href="#"
               class="is-drawer-close:tooltip is-drawer-close:tooltip-right"
               data-tip="Bookmarks">
              <svg xmlns="http://www.w3.org/2000/svg"
                   viewBox="0 0 24 24"
                   fill="none"
                   stroke="currentColor"
                   stroke-width="2"
                   stroke-linecap="round"
                   stroke-linejoin="round"
                   class="my-1.5 inline-block size-6">
                <path d="M15 10v11l-5 -3l-5 3v-11a3 3 0 0 1 3 -3h4a3 3 0 0 1 3 3" />
                <path d="M11 3h5a3 3 0 0 1 3 3v11" />
              </svg>
              <span class="is-drawer-close:hidden">Bookmarks</span>
            </a>
          </li>
          <li class="mb-auto">
            <a href="#"
               class="is-drawer-close:tooltip is-drawer-close:tooltip-right"
               data-tip="SOS">
              <svg xmlns="http://www.w3.org/2000/svg"
                   viewBox="0 0 24 24"
                   fill="none"
                   stroke="currentColor"
                   stroke-width="2"
                   stroke-linecap="round"
                   stroke-linejoin="round"
                   class="my-1.5 inline-block size-6 text-error">
                <path d="M8 8v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2" />
                <path d="M4 10a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-8" />
                <path d="M10 14h4" />
                <path d="M12 12v4" />
              </svg>
              <span class="is-drawer-close:hidden">SOS</span>
            </a>
          </li>
          <div class="divider my-2"></div>
          <!-- Bottom section -->
          <li>
            <a href="{% url 'users:detail' request.user.pk %}"
               class="is-drawer-close:tooltip is-drawer-close:tooltip-right"
               data-tip="Profile">
              <svg xmlns="http://www.w3.org/2000/svg"
                   viewBox="0 0 24 24"
                   fill="none"
                   stroke="currentColor"
                   stroke-width="1.5"
                   stroke-linecap="round"
                   stroke-linejoin="round"
                   class="my-1.5 inline-block size-6">
                <path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" />
                <path d="M9 10a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
                <path d="M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855" />
              </svg>
              <span class="is-drawer-close:hidden font-semibold">Profile</span>
            </a>
          </li>
          <li>
            <a href="#"
               class="is-drawer-close:tooltip is-drawer-close:tooltip-right"
               data-tip="Support">
              <svg xmlns="http://www.w3.org/2000/svg"
                   viewBox="0 0 24 24"
                   fill="none"
                   stroke="currentColor"
                   stroke-width="1.5"
                   stroke-linecap="round"
                   stroke-linejoin="round"
                   class="my-1.5 inline-block size-6">
                <path d="M12.802 2.165l5.575 2.389c.48 .206 .863 .589 1.07 1.07l2.388 5.574c.22 .512 .22 1.092 0 1.604l-2.389 5.575c-.206 .48 -.589 .863 -1.07 1.07l-5.574 2.388c-.512 .22 -1.092 .22 -1.604 0l-5.575 -2.389a2.036 2.036 0 0 1 -1.07 -1.07l-2.388 -5.574a2.036 2.036 0 0 1 0 -1.604l2.389 -5.575c.206 -.48 .589 -.863 1.07 -1.07l5.574 -2.388a2.036 2.036 0 0 1 1.604 0" />
                <path d="M12 16v.01" />
                <path d="M12 13a2 2 0 0 0 .914 -3.782a1.98 1.98 0 0 0 -2.414 .483" />
              </svg>
              <span class="is-drawer-close:hidden font-semibold">Support</span>
            </a>
          </li>
          <li>
            <a href="#"
               class="is-drawer-close:tooltip is-drawer-close:tooltip-right"
               data-tip="Discord">
              <svg xmlns="http://www.w3.org/2000/svg"
                   viewBox="0 0 24 24"
                   fill="currentColor"
                   stroke-width="1.5"
                   class="my-1.5 inline-block size-6">
                <path d="M14.983 3l.123 .006c2.014 .214 3.527 .672 4.966 1.673a1 1 0 0 1 .371 .488c1.876 5.315 2.373 9.987 1.451 12.28c-1.003 2.005 -2.606 3.553 -4.394 3.553c-.732 0 -1.693 -.968 -2.328 -2.045a21.512 21.512 0 0 0 2.103 -.493a1 1 0 1 0 -.55 -1.924c-3.32 .95 -6.13 .95 -9.45 0a1 1 0 0 0 -.55 1.924c.717 .204 1.416 .37 2.103 .494c-.635 1.075 -1.596 2.044 -2.328 2.044c-1.788 0 -3.391 -1.548 -4.428 -3.629c-.888 -2.217 -.39 -6.89 1.485 -12.204a1 1 0 0 1 .371 -.488c1.439 -1.001 2.952 -1.459 4.966 -1.673a1 1 0 0 1 .935 .435l.063 .107l.651 1.285l.137 -.016a12.97 12.97 0 0 1 2.643 0l.134 .016l.65 -1.284a1 1 0 0 1 .754 -.54l.122 -.009zm-5.983 7a2 2 0 0 0 -1.977 1.697l-.018 .154l-.005 .149l.005 .15a2 2 0 1 0 1.995 -2.15zm6 0a2 2 0 0 0 -1.977 1.697l-.018 .154l-.005 .149l.005 .15a2 2 0 1 0 1.995 -2.15z" />
              </svg>
              <span class="is-drawer-close:hidden font-semibold">Discord</span>
            </a>
          </li>
          <li>
            <a href="#"
               class="is-drawer-close:tooltip is-drawer-close:tooltip-right"
               data-tip="Slack">
              <svg xmlns="http://www.w3.org/2000/svg"
                   viewBox="0 0 24 24"
                   fill="none"
                   stroke="currentColor"
                   stroke-width="1.5"
                   stroke-linecap="round"
                   stroke-linejoin="round"
                   class="my-1.5 inline-block size-6">
                <path d="M12 12v-6a2 2 0 0 1 4 0v6m0 -2a2 2 0 1 1 2 2h-6" />
                <path d="M12 12h6a2 2 0 0 1 0 4h-6m2 0a2 2 0 1 1 -2 2v-6" />
                <path d="M12 12v6a2 2 0 0 1 -4 0v-6m0 2a2 2 0 1 1 -2 -2h6" />
                <path d="M12 12h-6a2 2 0 0 1 0 -4h6m-2 0a2 2 0 1 1 2 -2v6" />
              </svg>
              <span class="is-drawer-close:hidden font-semibold">Slack</span>
            </a>
          </li>
          {% block sidebar_items %}
          {% endblock sidebar_items %}
        </ul>
      </div>
    </div>
  </div>
{% endblock body %}
